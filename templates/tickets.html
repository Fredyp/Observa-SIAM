<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tickets - OBSERVA</title>
  <link rel="stylesheet" href="/static/css/milligram.min.css">
</head>
<body>
<main class="container">
  <h2>Incident Tickets</h2>
  <form method="GET" style="margin-bottom: 20px;">
    <label>Category</label>
    <select name="category">
      <option value="">-- All --</option>
      <option value="phishing">Phishing</option>
      <option value="malware">Malware</option>
      <option value="insider">Insider Threat</option>
      <option value="ddos">DDoS</option>
      <option value="unauthorized">Unauthorized Access</option>
    </select>

    <label>Severity</label>
    <select name="severity">
      <option value="">-- All --</option>
      <option value="low">Low</option>
      <option value="medium">Medium</option>
      <option value="high">High</option>
      <option value="critical">Critical</option>
    </select>

    <button type="submit" class="button">Filter</button>
  </form>

  <a class="button" href="/create_ticket">+ New Ticket</a>
  <table>
    <thead>
      <tr><th>Title</th><th>Category</th><th>Severity</th><th>Status</th><th>Actions</th></tr>
    </thead>
    <tbody>
      {% for ticket in tickets %}
      <tr>
        <td>{{ ticket.title }}</td>
        <td>{{ ticket.category }}</td><td>{{ ticket.severity }}</td><td>{{ ticket.status }}</td>
        <td><a href="/delete_ticket/{{ ticket.id }}">Delete</a></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</main>
</body>
</html>
